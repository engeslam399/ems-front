<nav class="header" [class.menu-open]="isMenuOpen()">
    <div class="container d-flex justify-content-between align-items-center h-100">

        <!-- Logo & Sidebar Toggle -->
        <div class="header-logo d-flex align-items-center gap-3">
            <button class="sidebar-toggle-btn" (click)="toggleSidebar()" aria-label="Open sidebar">
                <i class="pi pi-align-left"></i>
            </button>
            <span class="logo-text">EMS</span>
        </div>

        <!-- Hamburger Toggle (Mobile Only) -->
        <button class="menu-toggle d-lg-none" (click)="toggleMenu()" aria-label="Toggle menu">
            <i class="pi" [ngClass]="isMenuOpen() ? 'pi-times' : 'pi-bars'"></i>
        </button>

        <!-- Navigation Menu (Desktop) -->
        <div class="menu-container" [class.show]="isMenuOpen()">
            <ul class="header-menu d-flex list-unstyled gap-lg-4 mb-0">
                <li>
                    <a routerLink="/home" routerLinkActive="active" (click)="closeMenu()">
                        <i class="pi pi-home me-2 d-lg-none"></i>Home
                    </a>
                </li>
                <li>
                    <a routerLink="/employees" routerLinkActive="active" (click)="closeMenu()">
                        <i class="pi pi-users me-2 d-lg-none"></i>Employees
                    </a>
                </li>
                <li>
                    <a routerLink="/add-employee" routerLinkActive="active" (click)="closeMenu()">
                        <i class="pi pi-user-plus me-2 d-lg-none"></i>Add New Employee
                    </a>
                </li>
            </ul>

            <!-- User Profile Section -->
            <div class="user-profile d-flex align-items-center gap-2 ms-lg-auto" (click)="op.toggle($event)">
                <div class="avatar-container">
                    <img src="https://media-cldnry.s-nbcnews.com/image/upload/t_fit-1000w,f_auto,q_auto:best/rockcms/2024-08/240822-Cristiano-Ronaldo-ch-1324-5a0450.jpg"
                        alt="John Doe" class="profile-pic">
                </div>
                <span class="username d-none d-lg-block">John Doe</span>
                <i class="pi pi-chevron-down ms-1 dropdown-icon d-none d-lg-block"></i>
            </div>

            <!-- Profile Dropdown Panel -->
            <p-popover #op>
                <div class="profile-panel">
                    <div class="panel-content">
                        <button class="panel-item" routerLink="/employee-details" (click)="op.hide()">
                            <i class="pi pi-user me-2"></i>Profile
                        </button>
                        <button class="panel-item logout-btn" (click)="op.hide(); logout()">
                            <i class="pi pi-sign-out me-2"></i>Logout
                        </button>
                    </div>
                </div>
            </p-popover>
        </div>
    </div>
</nav>

<!-- Sidebar (Drawer) -->
<p-drawer [(visible)]="sidebarVisible" header="Employee Management">
    <div class="sidebar-content">
        <ul class="sidebar-nav list-unstyled">
            <li>
                <a routerLink="/home" (click)="sidebarVisible = false" class="sidebar-link">
                    <i class="pi pi-home me-3"></i>Dashboard
                </a>
            </li>
            <li>
                <a routerLink="/employees" (click)="sidebarVisible = false" class="sidebar-link">
                    <i class="pi pi-users me-3"></i>Employee List
                </a>
            </li>
            <li>
                <a routerLink="/add-employee" (click)="sidebarVisible = false" class="sidebar-link">
                    <i class="pi pi-user-plus me-3"></i>Register New
                </a>
            </li>
        </ul>

        <div class="sidebar-footer border-top pt-3 mt-4">
            <small class="text-muted">EMS v1.0.0</small>
        </div>
    </div>
</p-drawer>